<div class="max-w-screen">
  <nav class="navbar bg-white p-1 fixed w-full top-0 z-20 mb-11">
    <div class="navbar-start h-5">
      <div class="dropdown" data-controller="sidebar">
        <div tabindex="0" role="button" class="btn btn-ghost  btn-circle" data-action="click->sidebar#toggle">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-secondary" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" />
          </svg>
        </div>
        <div data-sidebar-target="menu" class="hidden">
          <ul tabindex="0" data-sidebar-target="menu" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow text-stone-600 bg-base-100 rounded-box w-52">
            <%= render "vendor/sidebar" %>
        <li>
          <details>
              <summary>
                <i class="fa-solid fa-user"></i>
                <%= current_user.email %>
              </summary>
            <%# 下拉選單 %>
            <ul class="w-32 text-stone-600 ">
              <li><%= link_to t('navbar.logout'), destroy_user_session_path, data: { turbo_method: "delete" } %></li>
              <li><%= link_to(t('navbar.edit_password'), edit_registration_path(:user)) %></li>
              <% if policy(:shop).index? %>
                <li><%= link_to t('navbar.mybackstage'), vendor_index_path, class: 'text-red-500' %></li>
              <% end %>
              <li><%= link_to t('navbar.mybookings'), orders_path %></li>
            </ul>
          </details>
        </li>
          </ul>
        </div>
      </div>
      <h1 class="btn btn-ghost text-2xl  text-secondary"><%= link_to "ResTime", root_path %></h1>
      <span class="btn btn-ghost text-secondary"><%= link_to t('navbar.homepage_front'), index_path %></span>

    </div>
    <%# 中間文字 %>
    <div class="flex-none navbar-end text-secondary p-2">
      <details class="dropdown dropdown-end" data-controller="toggle" data-action="click->toggle#hidden">
        <summary class="btn btn-ghost">
          <div class="indicator">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>
            <span id="badge" data-toggle-target="element" class="badge badge-xs badge-primary indicator-item hidden"></span>
            <%= turbo_stream_from current_user %>
          </div>
        </summary>
        <div class="h-56 overflow-auto">
          <ul id="notification" class="p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-96">
            <%= current_user.notifications.each do |notification| %>
              <li>
                <%= link_to vendor_order_path(notification.notifiable_id) do %>
                <p><%= notification.title %></p><p><%= notification.message %></p>
                <% end %>
              </li>
            <% end %>
          </ul>
        </div>
      </details>
      <div class="dropdown dropdown-end">
        <div tabindex="0" role="button" class="btn btn-ghost btn-circle">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9" /></svg>
              <span id="badge" data-toggle-target="element" class="badge badge-xs badge-primary indicator-item hidden"></span>
              <%= turbo_stream_from current_user %>
        </div>
        <div tabindex="0" class="mt-3 z-[1] card card-compact dropdown-content w-52 bg-base-100 shadow">
          <div class="card-body h-64 overflow-auto">
            <ul id="notification" class="p-2 shadow menu dropdown-content z-[1] bg-base-100 rounded-box w-96">
              <%= current_user.notifications.each do |notification| %>
                <li>
                  <%= link_to vendor_order_path(notification.notifiable_id) do %>
                  <p><%= notification.title %></p><p><%= notification.message %></p>
                  <% end %>
                </li>
              <% end %>
            </ul>
          </div>
        </div>
      </div>
      <div class="badge badge-warning text-secondary text-s"><%= link_to t('navbar.mybackstage'), vendor_index_path %></div>
    </div>
  </nav>
</div>




