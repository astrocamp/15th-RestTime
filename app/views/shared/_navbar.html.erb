<nav class="navbar bg-base-100 shadow-md p-1 fixed w-full top-0 z-10">
  <div class="flex-1">
    <h1 class="btn btn-ghost text-3xl text-orange-900"><%= link_to "RestTime", root_path %></h1>
      <span class="btn btn-ghost hover:bg-accent text-sm text-slate-700"><%= link_to t('navbar.products'), products_path %></span>
      <span class="btn btn-ghost hover:bg-accent text-slate-700"><%= link_to t('navbar.shops'), shops_path %></span>
  </div>
  <div class="flex items-center justify-center">
    <form action="<%= search_path %>" data-turbo="false">
      <input type="search" name="q" class="input input-bordered">
      <button class="btn btn-outline btn-accent">搜尋</button>
    </form>
  </div>
  <div class="flex-none">
    <ul class="flex gap-3 menu menu-horizontal px-1">
      <% if user_signed_in? %>
        <li>
          <details>
            <summary>
              <% if policy(:shop).index? %>
                <div class="bg-red-500 text-white px-2 py-1 rounded-md text-sm inline-block">
                  <%= t("user_roles.#{current_user.role}") %>
                </div>
              <% end %>
              <%= current_user.email %>
            </summary>
  
            <%# 下拉選單 %>
            <ul class="py-5">
              <li><%= link_to t('navbar.logout'), destroy_user_session_path, data: { turbo_method: "delete" } %></li>
              <li><%= link_to(t('navbar.edit_password'), edit_registration_path(:user)) %></li>
              <% if policy(:shop).index? %>
                <li><%= link_to t('navbar.mybackstage'), vendor_index_path, class: 'text-red-500' %></li>
              <% end %>
              
              <li><%= link_to t('My Bookings'), my_orders_path %></li>
            </ul>
          </details>
        </li>
      <% else %>
        <li><%= link_to '註冊', new_user_registration_path %></li>
        <li><%= link_to '登入', new_user_session_path %></li>
      <% end %>
    </ul>


  </div>
</nav>

