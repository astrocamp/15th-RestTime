<nav class="navbar bg-white fixed w-full top-0 z-20 px-24 h-16">
  <div class="flex-1">
    <h1 class="btn btn-ghost text-3xl text-primary hover:bg-accent"><%= link_to "RestTime", root_path %></h1>
      <span class="btn btn-sm btn-ghost text-stone-700 hover:bg-accent"><%= link_to t('navbar.homepage'), index_path %></span>
      <span class="btn btn-sm btn-ghost text-stone-700 hover:bg-accent"><%= link_to t('navbar.products'), products_path %></span>
      <span class="btn btn-sm btn-ghost text-stone-700 hover:bg-accent"><%= link_to t('navbar.shops'), shops_path %></span>
  </div>
  <div class="flex items-center justify-center">
    <form action="<%= search_path %>" data-turbo="false">
      <input type="search" name="q" class="input input-bordered h-8 bg-white">
      <button class="btn btn-sm btn-primary"><%= t(:search) %></button>
    </form>
  </div>
  <div class="flex-none">
    <ul class="flex gap-3 menu menu-horizontal px-1">
      <% if user_signed_in? %>
        <li>
          <details>
            <summary>
              <% if policy(:shop).index? %>
                <div class="bg-warning text-white px-2 py-1 rounded-md text-sm inline-block">
                  <%= t("user_roles.#{current_user.role}") %>
                </div>
              <% end %>
              <i class="fa-solid fa-user"></i>
              <%= current_user.email %>
            </summary>
  
            <%# 下拉選單 %>
            <ul class="py-5">
              <li><%= link_to t('navbar.logout'), destroy_user_session_path, data: { turbo_method: "delete" } %></li>
              <li><%= link_to(t('navbar.edit password'), edit_registration_path(:user)) %></li>
              <% if policy(:shop).index? %>
                <li><%= link_to t('navbar.my_backstage'), vendor_index_path, class: 'text-red-500' %></li>
              <% end %>
              
              <li><%= link_to t('my_orders'), orders_path %></li>
            </ul>
          </details>
        </li>
      <% else %>
        <span class="btn btn-sm btn-ghost text-stone-700 hover:bg-accent"><%= link_to '註冊', new_user_registration_path %></span>
        <span class="btn btn-sm btn-ghost text-stone-700 hover:bg-accent"><%= link_to '登入', new_user_session_path %></span>
      <% end %>
    </ul>
  </div>
</nav>

